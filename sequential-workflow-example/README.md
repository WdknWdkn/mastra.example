# シーケンシャルステップを使用したワークフロー

このサンプルは、Mastraを使用してシーケンシャル（順次）ステップを持つワークフローを実装する方法を示しています。

## 概要

このワークフローは以下の2つのステップで構成されています：

1. **ステップ1**: 入力値を2倍にします
2. **ステップ2**: ステップ1の結果に1を加えます

各ステップは明確な入力スキーマと出力スキーマを持ち、前のステップの結果を次のステップの入力として使用します。

## 使用方法

### 前提条件

- Node.js v20.0+
- pnpm（推奨）または npm
- OpenAI APIキー（このサンプルでは使用しませんが、他のサンプルとの一貫性のために設定しておくことをお勧めします）

### セットアップ

1. `.env.example`ファイルを`.env`にコピーします：

```bash
cp .env.example .env
```

2. 依存関係をインストールします：

```bash
pnpm install
```

### 実行

以下のコマンドでワークフローを実行できます：

```bash
pnpm start
```

## 実装の詳細

このワークフローは、Mastraの`Workflow`と`Step`クラスを使用して実装されています。各ステップは入力と出力のスキーマを定義し、`context.getStepResult()`メソッドを使用して前のステップの結果にアクセスします。

```typescript
// シーケンシャルステップの定義
myWorkflow.step(stepOne).then(stepTwo);
```

このパターンを使用すると、複雑なデータ処理パイプラインや多段階の処理フローを簡単に実装できます。

## 応用例

このシンプルな例を拡張して、以下のようなより複雑なワークフローを作成できます：

- データ変換パイプライン
- 多段階の承認プロセス
- 段階的なデータ分析
- 複数のAPIを順番に呼び出す処理

各ステップは前のステップの結果に依存し、明確に定義された入出力スキーマを持つことで、型安全性と堅牢性を確保します。
