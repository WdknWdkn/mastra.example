(()=>{var e={};e.id=148,e.ids=[148],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},87964:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>i}),r(76570),r(67496),r(82441);var a=r(98444),t=r(78438),l=r(76690),n=r.n(l),o=r(89136),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(s,d);let i=["",{children:["real-estate",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,76570)),"/home/ubuntu/repos/mastra.example/frontend-ui/app/real-estate/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,67496)),"/home/ubuntu/repos/mastra.example/frontend-ui/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,82441,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/repos/mastra.example/frontend-ui/app/real-estate/page.tsx"],x="/real-estate/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/real-estate/page",pathname:"/real-estate",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},56919:()=>{},11483:(e,s,r)=>{Promise.resolve().then(r.bind(r,32106))},18301:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,16794,23)),Promise.resolve().then(r.t.bind(r,7315,23)),Promise.resolve().then(r.t.bind(r,32573,23)),Promise.resolve().then(r.t.bind(r,7670,23)),Promise.resolve().then(r.t.bind(r,14019,23)),Promise.resolve().then(r.t.bind(r,25468,23))},32106:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var a=r(53382),t=r(65978),l=r(96743);let n=({property:e})=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4 border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:e["物件名称"]||"物件名不明"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"所在地:"}),a.jsx("span",{className:"text-gray-600",children:e["所在地名称"]||"不明"})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"賃料:"}),a.jsx("span",{className:"text-gray-600",children:e["賃料・価格"]||"不明"})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"間取り:"}),a.jsx("span",{className:"text-gray-600",children:e["間取り備考"]||"不明"})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"面積:"}),(0,a.jsxs)("span",{className:"text-gray-600",children:[e["建物面積・専有面積"]||"不明","㎡"]})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"最寄駅:"}),a.jsx("span",{className:"text-gray-600",children:e["駅1"]||"不明"})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"特徴:"}),a.jsx("span",{className:"text-gray-600",children:e["物件の特徴"]||"特になし"})]})]})]}),o=({message:e})=>a.jsx("div",{className:`mb-4 ${"user"===e.role?"text-right":"text-left"}`,children:a.jsx("div",{className:`inline-block p-3 rounded-lg ${"user"===e.role?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"}`,children:e.content})});function d(){let[e,s]=(0,t.useState)([]),[r,d]=(0,t.useState)(""),[i,c]=(0,t.useState)(!1),[x,u]=(0,t.useState)([]),[m,p]=(0,t.useState)(!1),[h,b]=(0,t.useState)(null),g=(0,t.useRef)(null),f=async e=>{if(e.preventDefault(),!r.trim()||i)return;let a=r.trim();d(""),s(e=>[...e,{role:"user",content:a}]),c(!0);try{let e=await fetch("/api/real-estate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a})}),r=await e.json();if(!e.ok)throw Error(r.error||"リクエストの処理中にエラーが発生しました");s(e=>[...e,{role:"assistant",content:r.response}]),r.properties&&r.properties.length>0&&u(r.properties)}catch(e){b(e instanceof Error?e.message:"不明なエラーが発生しました"),console.error("APIエラー:",e),s(e=>[...e,{role:"assistant",content:"すみません、エラーが発生しました。もう一度お試しください。"}])}finally{c(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[a.jsx(l.default,{}),(0,a.jsxs)("main",{className:"container mx-auto py-8 px-4",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8 text-center text-gray-800",children:"不動産物件推薦AIエージェント"}),h&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a.jsx("p",{children:h})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2 bg-white rounded-lg shadow-md p-4",children:[(0,a.jsxs)("div",{className:"h-[500px] overflow-y-auto mb-4 p-2",children:[e.map((e,s)=>a.jsx(o,{message:e},s)),i&&a.jsx("div",{className:"text-center py-2",children:a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-500 border-r-transparent"})}),a.jsx("div",{ref:g})]}),(0,a.jsxs)("form",{onSubmit:f,className:"flex",children:[a.jsx("input",{type:"text",value:r,onChange:e=>d(e.target.value),placeholder:"メッセージを入力...",className:"flex-grow px-4 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:i||!m}),a.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-r-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-400",disabled:i||!m||!r.trim(),children:"送信"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"おすすめ物件"}),x.length>0?a.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto",children:x.map((e,s)=>a.jsx(n,{property:e},s))}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:a.jsx("p",{children:m?"条件に合った物件が見つかりません。別の条件をお試しください。":"物件データを読み込んでいます..."})})]})]})]})]})}},96743:(e,s,r)=>{"use strict";r.d(s,{default:()=>n});var a=r(53382);r(65978);var t=r(51200),l=r(9667);function n(){let e=(0,l.usePathname)();return a.jsx("nav",{className:"bg-blue-600 text-white p-4",children:(0,a.jsxs)("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[a.jsx("div",{className:"text-xl font-bold mb-4 sm:mb-0",children:"Mastra Examples"}),(0,a.jsxs)("div",{className:"flex flex-wrap space-x-2 space-y-2 sm:space-y-0 sm:space-x-4",children:[a.jsx(t.default,{href:"/",className:`px-3 py-2 rounded-lg ${"/"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"猫の専門家チャット"}),a.jsx(t.default,{href:"/weather",className:`px-3 py-2 rounded-lg ${"/weather"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"天気予報とアクティビティ"}),a.jsx(t.default,{href:"/weather-tool",className:`px-3 py-2 rounded-lg ${"/weather-tool"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"天気アシスタント"}),a.jsx(t.default,{href:"/blog-post",className:`px-3 py-2 rounded-lg ${"/blog-post"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"ブログ記事ジェネレーター"}),a.jsx(t.default,{href:"/workflow",className:`px-3 py-2 rounded-lg ${"/workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"ワークフローブログ"}),a.jsx(t.default,{href:"/create-workflow",className:`px-3 py-2 rounded-lg ${"/create-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"3ステップブログ記事"}),a.jsx(t.default,{href:"/sequential-workflow",className:`px-3 py-2 rounded-lg ${"/sequential-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"シーケンシャルワークフロー"}),a.jsx(t.default,{href:"/parallel-workflow",className:`px-3 py-2 rounded-lg ${"/parallel-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"並列ワークフロー"}),a.jsx(t.default,{href:"/branching-workflow",className:`px-3 py-2 rounded-lg ${"/branching-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"分岐パスワークフロー"}),a.jsx(t.default,{href:"/bird-checker",className:`px-3 py-2 rounded-lg ${"/bird-checker"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"鳥チェッカー"}),a.jsx(t.default,{href:"/real-estate",className:`px-3 py-2 rounded-lg ${"/real-estate"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"物件検索エージェント"})]})]})})}},67496:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l,metadata:()=>t});var a=r(75784);r(50314);let t={title:"Mastra Examples",description:"Mastraを使用した様々な例を紹介するアプリケーション"};function l({children:e}){return a.jsx("html",{lang:"ja",children:a.jsx("body",{className:"bg-gray-50",children:e})})}},76570:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(13571).createProxy)(String.raw`/home/ubuntu/repos/mastra.example/frontend-ui/app/real-estate/page.tsx#default`)},50314:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[651,200,361],()=>r(87964));module.exports=a})();