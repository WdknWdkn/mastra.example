(()=>{var e={};e.id=611,e.ids=[611],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},65090:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>c,pages:()=>u,routeModule:()=>x,tree:()=>d}),r(85636),r(67496),r(82441);var a=r(98444),s=r(78438),l=r(76690),n=r.n(l),o=r(89136),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let d=["",{children:["weather-tool",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,85636)),"/home/ubuntu/repos/mastra.example/frontend-ui/app/weather-tool/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,67496)),"/home/ubuntu/repos/mastra.example/frontend-ui/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,82441,23)),"next/dist/client/components/not-found-error"]}],u=["/home/ubuntu/repos/mastra.example/frontend-ui/app/weather-tool/page.tsx"],c="/weather-tool/page",h={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/weather-tool/page",pathname:"/weather-tool",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},56919:()=>{},57393:(e,t,r)=>{Promise.resolve().then(r.bind(r,78302))},18301:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16794,23)),Promise.resolve().then(r.t.bind(r,7315,23)),Promise.resolve().then(r.t.bind(r,32573,23)),Promise.resolve().then(r.t.bind(r,7670,23)),Promise.resolve().then(r.t.bind(r,14019,23)),Promise.resolve().then(r.t.bind(r,25468,23))},78302:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(53382),s=r(65978),l=r(47771),n=r(52297),o=r(96743);function i(){let[e,t]=(0,s.useState)([]),[r,i]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),c=(0,s.useRef)(null),h=async e=>{if(!e.trim())return;let r={id:Date.now().toString(),content:e,role:"user",timestamp:Date.now()};t(e=>[...e,r]),i(!0),u(null);try{let r=await fetch("/api/weather-tool",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})});if(!r.ok)throw Error("APIリクエストに失敗しました");let a=await r.json(),s={id:(Date.now()+1).toString(),content:a.response,role:"assistant",timestamp:Date.now()};t(e=>[...e,s])}catch(e){u("メッセージの送信中にエラーが発生しました。もう一度お試しください。"),console.error("エラー:",e)}finally{i(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(o.default,{}),(0,a.jsxs)("div",{className:"flex flex-col h-[calc(100vh-64px)]",children:[(0,a.jsxs)("div",{className:"p-4 bg-white shadow-sm",children:[a.jsx("h1",{className:"text-xl font-bold text-center",children:"天気アシスタント"}),a.jsx("p",{className:"text-center text-gray-600",children:"場所を指定して天気情報を取得できます"})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map(e=>a.jsx(l.Z,{message:e},e.id)),r&&(0,a.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[a.jsx("div",{className:"animate-bounce h-2 w-2 bg-blue-600 rounded-full"}),a.jsx("div",{className:"animate-bounce h-2 w-2 bg-blue-600 rounded-full animation-delay-200"}),a.jsx("div",{className:"animate-bounce h-2 w-2 bg-blue-600 rounded-full animation-delay-400"})]}),d&&a.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",children:a.jsx("p",{children:d})}),a.jsx("div",{ref:c})]}),a.jsx("div",{className:"border-t p-4 bg-white",children:a.jsx(n.Z,{onSendMessage:h,disabled:r})})]})]})}},52297:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(53382),s=r(65978);function l({onSendMessage:e,disabled:t=!1}){let[r,l]=(0,s.useState)(""),n=a=>{a.preventDefault(),r.trim()&&!t&&(e(r),l(""))};return(0,a.jsxs)("form",{onSubmit:n,className:"flex space-x-2",children:[a.jsx("textarea",{className:"flex-1 border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"猫について質問してみましょう...",value:r,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),n(e))},rows:1,disabled:t}),a.jsx("button",{type:"submit",className:`px-4 py-2 rounded-lg font-medium ${t?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:t,children:"送信"})]})}},47771:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(53382);function s({message:e}){let t="user"===e.role,r=new Date(e.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"});return a.jsx("div",{className:`flex ${t?"justify-end":"justify-start"}`,children:(0,a.jsxs)("div",{className:`max-w-[80%] rounded-lg p-3 ${t?"bg-blue-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[a.jsx("div",{className:"whitespace-pre-wrap",children:e.content}),a.jsx("div",{className:`text-xs mt-1 ${t?"text-blue-200":"text-gray-500"}`,children:r})]})})}},96743:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var a=r(53382);r(65978);var s=r(51200),l=r(9667);function n(){let e=(0,l.usePathname)();return a.jsx("nav",{className:"bg-blue-600 text-white p-4",children:(0,a.jsxs)("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[a.jsx("div",{className:"text-xl font-bold mb-4 sm:mb-0",children:"Mastra Examples"}),(0,a.jsxs)("div",{className:"flex flex-wrap space-x-2 space-y-2 sm:space-y-0 sm:space-x-4",children:[a.jsx(s.default,{href:"/",className:`px-3 py-2 rounded-lg ${"/"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"猫の専門家チャット"}),a.jsx(s.default,{href:"/weather",className:`px-3 py-2 rounded-lg ${"/weather"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"天気予報とアクティビティ"}),a.jsx(s.default,{href:"/weather-tool",className:`px-3 py-2 rounded-lg ${"/weather-tool"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"天気アシスタント"}),a.jsx(s.default,{href:"/blog-post",className:`px-3 py-2 rounded-lg ${"/blog-post"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"ブログ記事ジェネレーター"}),a.jsx(s.default,{href:"/workflow",className:`px-3 py-2 rounded-lg ${"/workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"ワークフローブログ"}),a.jsx(s.default,{href:"/create-workflow",className:`px-3 py-2 rounded-lg ${"/create-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"3ステップブログ記事"}),a.jsx(s.default,{href:"/sequential-workflow",className:`px-3 py-2 rounded-lg ${"/sequential-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"シーケンシャルワークフロー"}),a.jsx(s.default,{href:"/parallel-workflow",className:`px-3 py-2 rounded-lg ${"/parallel-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"並列ワークフロー"}),a.jsx(s.default,{href:"/branching-workflow",className:`px-3 py-2 rounded-lg ${"/branching-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"分岐パスワークフロー"}),a.jsx(s.default,{href:"/bird-checker",className:`px-3 py-2 rounded-lg ${"/bird-checker"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"鳥チェッカー"}),a.jsx(s.default,{href:"/real-estate",className:`px-3 py-2 rounded-lg ${"/real-estate"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"物件検索エージェント"})]})]})})}},67496:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>s});var a=r(75784);r(50314);let s={title:"Mastra Examples",description:"Mastraを使用した様々な例を紹介するアプリケーション"};function l({children:e}){return a.jsx("html",{lang:"ja",children:a.jsx("body",{className:"bg-gray-50",children:e})})}},85636:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(13571).createProxy)(String.raw`/home/ubuntu/repos/mastra.example/frontend-ui/app/weather-tool/page.tsx#default`)},50314:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[651,200,361],()=>r(65090));module.exports=a})();