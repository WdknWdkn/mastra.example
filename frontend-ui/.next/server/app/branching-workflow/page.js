(()=>{var e={};e.id=704,e.ids=[704],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},42295:(e,s,l)=>{"use strict";l.r(s),l.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o}),l(51652),l(67496),l(82441);var r=l(98444),t=l(78438),a=l(76690),n=l.n(a),d=l(89136),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);l.d(s,i);let o=["",{children:["branching-workflow",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(l.bind(l,51652)),"/home/ubuntu/repos/mastra.example/frontend-ui/app/branching-workflow/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(l.bind(l,67496)),"/home/ubuntu/repos/mastra.example/frontend-ui/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(l.t.bind(l,82441,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/repos/mastra.example/frontend-ui/app/branching-workflow/page.tsx"],m="/branching-workflow/page",u={require:l,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/branching-workflow/page",pathname:"/branching-workflow",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},90207:(e,s,l)=>{Promise.resolve().then(l.bind(l,86585))},56919:()=>{},18301:(e,s,l)=>{Promise.resolve().then(l.t.bind(l,16794,23)),Promise.resolve().then(l.t.bind(l,7315,23)),Promise.resolve().then(l.t.bind(l,32573,23)),Promise.resolve().then(l.t.bind(l,7670,23)),Promise.resolve().then(l.t.bind(l,14019,23)),Promise.resolve().then(l.t.bind(l,25468,23))},86585:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>n});var r=l(53382),t=l(65978),a=l(96743);function n(){let[e,s]=(0,t.useState)(""),[l,n]=(0,t.useState)(null),[d,i]=(0,t.useState)(null),[o,c]=(0,t.useState)({}),[m,u]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),f=async s=>{if(s.preventDefault(),""===e){b("数値を入力してください");return}u(!0),b(null),n(null),i(null),c({});try{let s=await fetch("/api/branching-workflow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputValue:Number(e)})}),l=await s.json();if(console.log("API Response:",l),!s.ok){let e=l.error||"APIリクエストに失敗しました";console.error("API Error:",e),b(e);return}n(l.result),i(l.selectedPath),c(l.steps)}catch(e){b("処理中にエラーが発生しました。もう一度お試しください。"),console.error("エラー:",e)}finally{u(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(a.default,{}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-center mb-8",children:"分岐パスワークフロー"}),(0,r.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow p-6 mb-8",children:[(0,r.jsxs)("form",{onSubmit:f,className:"mb-6",children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"inputValue",className:"block text-sm font-medium text-gray-700 mb-1",children:"数値を入力"}),r.jsx("input",{type:"number",id:"inputValue",value:e,onChange:e=>s(""===e.target.value?"":Number(e.target.value)),placeholder:"例: 10, 15, 42...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("button",{type:"submit",disabled:m,className:`w-full py-2 px-4 rounded-md text-white font-medium ${m?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"}`,children:m?"処理中...":"計算実行"})]}),x&&r.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",children:r.jsx("p",{children:x})}),m&&r.jsx("div",{className:"flex justify-center items-center space-x-2 my-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"flex justify-center items-center space-x-1 mb-2",children:[r.jsx("div",{className:"animate-bounce h-2 w-2 bg-blue-600 rounded-full"}),r.jsx("div",{className:"animate-bounce h-2 w-2 bg-blue-600 rounded-full animation-delay-200"}),r.jsx("div",{className:"animate-bounce h-2 w-2 bg-blue-600 rounded-full animation-delay-400"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"計算処理中..."})]})}),null!==l&&!m&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"計算結果"}),r.jsx("button",{onClick:()=>p(!h),className:"text-sm text-blue-600 hover:text-blue-800",children:h?"ステップを隠す":"ステップを表示"})]}),h&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"relative pb-8",children:[r.jsx("div",{className:"absolute left-4 top-0 h-full w-0.5 bg-gray-200"}),(0,r.jsxs)("div",{className:"relative flex items-start mb-6",children:[r.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-blue-500 text-white font-bold text-sm z-10",children:"1"}),(0,r.jsxs)("div",{className:"ml-4 bg-gray-50 p-4 rounded-md border border-gray-200 flex-grow",children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"ステップ1: 2倍にする"}),r.jsx("div",{className:"bg-white p-3 rounded-md border border-gray-100",children:(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-semibold",children:e})," \xd7 2 = ",r.jsx("span",{className:"font-semibold",children:o.stepOne})]})})]})]}),(0,r.jsxs)("div",{className:"relative flex items-start mb-6",children:[r.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-blue-500 text-white font-bold text-sm z-10",children:"2"}),(0,r.jsxs)("div",{className:"ml-4 bg-gray-50 p-4 rounded-md border border-gray-200 flex-grow",children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"ステップ2: 1を加える"}),r.jsx("div",{className:"bg-white p-3 rounded-md border border-gray-100",children:(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-semibold",children:o.stepOne})," + 1 = ",r.jsx("span",{className:"font-semibold",children:o.stepTwo})," (",o.isEven?"偶数":"奇数",")"]})})]})]}),(0,r.jsxs)("div",{className:"relative flex items-start",children:[r.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-green-500 text-white font-bold text-sm z-10",children:"3"}),(0,r.jsxs)("div",{className:"ml-4 bg-gray-50 p-4 rounded-md border border-gray-200 flex-grow",children:[(0,r.jsxs)("h3",{className:"font-medium text-gray-700 mb-2",children:["ステップ3: ","even"===d?"偶数パス (2倍にする)":"奇数パス (3倍にする)"]}),r.jsx("div",{className:"bg-white p-3 rounded-md border border-gray-100",children:"even"===d?(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-semibold",children:o.stepTwo})," \xd7 2 = ",r.jsx("span",{className:"font-semibold",children:o.evenPathStep})]}):(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-semibold",children:o.stepTwo})," \xd7 3 = ",r.jsx("span",{className:"font-semibold",children:o.oddPathStep})]})})]})]})]}),r.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-md border border-blue-100",children:(0,r.jsxs)("p",{className:"text-sm text-blue-700",children:[r.jsx("span",{className:"font-semibold",children:"選択された分岐パス:"})," ","even"===d?"偶数パス":"奇数パス"]})})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-md text-center",children:[(0,r.jsxs)("p",{className:"text-lg",children:["最終結果: ",r.jsx("span",{className:"font-bold text-2xl text-blue-600",children:l})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["入力値 ",e," を ","even"===d?"偶数":"奇数","パスで処理した結果"]})]})]})]}),(0,r.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"分岐パスワークフローについて"}),(0,r.jsxs)("p",{className:"mb-4",children:["このデモでは、Mastraの",r.jsx("code",{children:"Workflow"}),"クラスを使用して、条件分岐を持つワークフローを実装する方法を示しています："]}),(0,r.jsxs)("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"ステップ1"}),"：入力値を2倍にします。"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"ステップ2"}),"：ステップ1の結果に1を加え、結果が偶数か奇数かを判定します。"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"条件分岐"}),"：",(0,r.jsxs)("ul",{className:"list-disc pl-5 mt-2",children:[(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"偶数パス"}),"：ステップ2の結果が偶数の場合、値を2倍にします。"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"奇数パス"}),"：ステップ2の結果が奇数の場合、値を3倍にします。"]})]})]})]}),r.jsx("p",{className:"mb-4",children:"この例は、前のステップの結果に基づいて異なる処理パスを選択する方法を示しています。「ステップを表示」ボタンをクリックすると、各ステップの計算結果と選択されたパスを確認できます。"}),r.jsx("p",{children:"分岐パスワークフローパターンは、条件に基づいて異なる処理を行う必要がある場合や、データの特性に応じて処理を変更する場合などに適しています。"})]})]})]})}},96743:(e,s,l)=>{"use strict";l.d(s,{default:()=>n});var r=l(53382);l(65978);var t=l(51200),a=l(9667);function n(){let e=(0,a.usePathname)();return r.jsx("nav",{className:"bg-blue-600 text-white p-4",children:(0,r.jsxs)("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[r.jsx("div",{className:"text-xl font-bold mb-4 sm:mb-0",children:"Mastra Examples"}),(0,r.jsxs)("div",{className:"flex flex-wrap space-x-2 space-y-2 sm:space-y-0 sm:space-x-4",children:[r.jsx(t.default,{href:"/",className:`px-3 py-2 rounded-lg ${"/"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"猫の専門家チャット"}),r.jsx(t.default,{href:"/weather",className:`px-3 py-2 rounded-lg ${"/weather"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"天気予報とアクティビティ"}),r.jsx(t.default,{href:"/weather-tool",className:`px-3 py-2 rounded-lg ${"/weather-tool"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"天気アシスタント"}),r.jsx(t.default,{href:"/blog-post",className:`px-3 py-2 rounded-lg ${"/blog-post"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"ブログ記事ジェネレーター"}),r.jsx(t.default,{href:"/workflow",className:`px-3 py-2 rounded-lg ${"/workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"ワークフローブログ"}),r.jsx(t.default,{href:"/create-workflow",className:`px-3 py-2 rounded-lg ${"/create-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"3ステップブログ記事"}),r.jsx(t.default,{href:"/sequential-workflow",className:`px-3 py-2 rounded-lg ${"/sequential-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"シーケンシャルワークフロー"}),r.jsx(t.default,{href:"/parallel-workflow",className:`px-3 py-2 rounded-lg ${"/parallel-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"並列ワークフロー"}),r.jsx(t.default,{href:"/branching-workflow",className:`px-3 py-2 rounded-lg ${"/branching-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"分岐パスワークフロー"}),r.jsx(t.default,{href:"/bird-checker",className:`px-3 py-2 rounded-lg ${"/bird-checker"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"鳥チェッカー"}),r.jsx(t.default,{href:"/real-estate",className:`px-3 py-2 rounded-lg ${"/real-estate"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"物件検索エージェント"})]})]})})}},51652:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>r});let r=(0,l(13571).createProxy)(String.raw`/home/ubuntu/repos/mastra.example/frontend-ui/app/branching-workflow/page.tsx#default`)},67496:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>a,metadata:()=>t});var r=l(75784);l(50314);let t={title:"Mastra Examples",description:"Mastraを使用した様々な例を紹介するアプリケーション"};function a({children:e}){return r.jsx("html",{lang:"ja",children:r.jsx("body",{className:"bg-gray-50",children:e})})}},50314:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var l=e=>s(s.s=e),r=s.X(0,[651,200,361],()=>l(42295));module.exports=r})();