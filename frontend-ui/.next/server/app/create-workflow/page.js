(()=>{var e={};e.id=457,e.ids=[457],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},26377:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>i}),s(36471),s(67496),s(82441);var l=s(98444),t=s(78438),a=s(76690),n=s.n(a),o=s(89136),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(r,d);let i=["",{children:["create-workflow",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,36471)),"/home/ubuntu/repos/mastra.example/frontend-ui/app/create-workflow/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,67496)),"/home/ubuntu/repos/mastra.example/frontend-ui/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,82441,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/repos/mastra.example/frontend-ui/app/create-workflow/page.tsx"],u="/create-workflow/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new l.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/create-workflow/page",pathname:"/create-workflow",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},94899:(e,r,s)=>{Promise.resolve().then(s.bind(s,18365))},56919:()=>{},18301:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,16794,23)),Promise.resolve().then(s.t.bind(s,7315,23)),Promise.resolve().then(s.t.bind(s,32573,23)),Promise.resolve().then(s.t.bind(s,7670,23)),Promise.resolve().then(s.t.bind(s,14019,23)),Promise.resolve().then(s.t.bind(s,25468,23))},18365:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>n});var l=s(53382),t=s(65978),a=s(96743);function n(){let[e,r]=(0,t.useState)(""),[s,n]=(0,t.useState)(""),[o,d]=(0,t.useState)({planner:"",copywriter:"",editor:""}),[i,c]=(0,t.useState)(!1),[u,m]=(0,t.useState)(null),[p,x]=(0,t.useState)(!1),b=async r=>{if(r.preventDefault(),!e.trim()){m("トピックを入力してください");return}c(!0),m(null),n(""),d({planner:"",copywriter:"",editor:""});try{let r=await fetch("/api/create-workflow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e})}),s=await r.json();if(console.log("API Response:",s),!r.ok){let e=s.error||"APIリクエストに失敗しました";console.error("API Error:",e),s.apiKeyError?m("OpenAI APIキーが無効または設定されていません。.envファイルに有効なAPIキーを設定してください。"):m(e);return}if(!s.blogPost&&!s.steps.planner&&!s.steps.copywriter&&!s.steps.editor){console.warn("APIからの応答が空です。OpenAI APIキーが正しく設定されているか確認してください。"),m("ブログ記事の生成に失敗しました。OpenAI APIキーが正しく設定されているか確認してください。");return}n(s.blogPost),d({planner:s.steps.planner,copywriter:s.steps.copywriter,editor:s.steps.editor})}catch(e){m("ブログ記事の生成中にエラーが発生しました。もう一度お試しください。"),console.error("エラー:",e)}finally{c(!1)}};return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(a.default,{}),(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-center mb-8",children:"3ステップブログ記事ジェネレーター"}),(0,l.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow p-6 mb-8",children:[(0,l.jsxs)("form",{onSubmit:b,className:"mb-6",children:[(0,l.jsxs)("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700 mb-1",children:"ブログ記事のトピック"}),l.jsx("input",{type:"text",id:"topic",value:e,onChange:e=>r(e.target.value),placeholder:"例: AIの倫理と社会的影響、持続可能なエネルギー、健康的な食事習慣...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsx("button",{type:"submit",disabled:i,className:`w-full py-2 px-4 rounded-md text-white font-medium ${i?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"}`,children:i?"ブログ記事を生成中...":"ブログ記事を生成"})]}),u&&l.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",children:l.jsx("p",{children:u})}),i&&l.jsx("div",{className:"flex justify-center items-center space-x-2 my-8",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"flex justify-center items-center space-x-1 mb-2",children:[l.jsx("div",{className:"animate-bounce h-2 w-2 bg-blue-600 rounded-full"}),l.jsx("div",{className:"animate-bounce h-2 w-2 bg-blue-600 rounded-full animation-delay-200"}),l.jsx("div",{className:"animate-bounce h-2 w-2 bg-blue-600 rounded-full animation-delay-400"})]}),l.jsx("p",{className:"text-sm text-gray-500",children:"ブログ記事を生成中です。これには1〜2分かかる場合があります..."})]})}),s&&!i&&(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"生成されたブログ記事"}),l.jsx("button",{onClick:()=>x(!p),className:"text-sm text-blue-600 hover:text-blue-800",children:p?"ステップを隠す":"ステップを表示"})]}),p&&(0,l.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,l.jsxs)("div",{className:"border border-gray-200 rounded-md p-4",children:[l.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"ステップ1: 企画"}),l.jsx("div",{className:"bg-gray-50 p-3 rounded-md whitespace-pre-wrap text-sm",children:o.planner})]}),(0,l.jsxs)("div",{className:"border border-gray-200 rounded-md p-4",children:[l.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"ステップ2: 執筆"}),l.jsx("div",{className:"bg-gray-50 p-3 rounded-md whitespace-pre-wrap text-sm",children:o.copywriter})]}),(0,l.jsxs)("div",{className:"border border-gray-200 rounded-md p-4",children:[l.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"ステップ3: 編集"}),l.jsx("div",{className:"bg-gray-50 p-3 rounded-md whitespace-pre-wrap text-sm",children:o.editor})]})]}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-md whitespace-pre-wrap",children:s.split("\n").map((e,r)=>l.jsx("p",{className:"mb-4",children:e},r))})]})]}),(0,l.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow p-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"3ステップブログ記事ジェネレーターについて"}),(0,l.jsxs)("p",{className:"mb-4",children:["このデモでは、Mastraの",l.jsx("code",{children:"Workflow"}),"クラスを使用して、3つのエージェントを順番に実行する方法を示しています："]}),(0,l.jsxs)("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:[(0,l.jsxs)("li",{children:[l.jsx("strong",{children:"企画ステップ"}),"：指定されたトピックに基づいて記事の構成を計画します。"]}),(0,l.jsxs)("li",{children:[l.jsx("strong",{children:"執筆ステップ"}),"：計画された構成に基づいて記事を作成します。"]}),(0,l.jsxs)("li",{children:[l.jsx("strong",{children:"編集ステップ"}),"：作成された記事を編集し、品質を向上させます。"]})]}),l.jsx("p",{children:"この例は、複雑なタスクを複数のステップに分割し、各ステップを専門のエージェントに処理させる方法を示しています。「ステップを表示」ボタンをクリックすると、各ステップの出力を確認できます。"})]})]})]})}},96743:(e,r,s)=>{"use strict";s.d(r,{default:()=>n});var l=s(53382);s(65978);var t=s(51200),a=s(9667);function n(){let e=(0,a.usePathname)();return l.jsx("nav",{className:"bg-blue-600 text-white p-4",children:(0,l.jsxs)("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[l.jsx("div",{className:"text-xl font-bold mb-4 sm:mb-0",children:"Mastra Examples"}),(0,l.jsxs)("div",{className:"flex flex-wrap space-x-2 space-y-2 sm:space-y-0 sm:space-x-4",children:[l.jsx(t.default,{href:"/",className:`px-3 py-2 rounded-lg ${"/"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"猫の専門家チャット"}),l.jsx(t.default,{href:"/weather",className:`px-3 py-2 rounded-lg ${"/weather"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"天気予報とアクティビティ"}),l.jsx(t.default,{href:"/weather-tool",className:`px-3 py-2 rounded-lg ${"/weather-tool"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"天気アシスタント"}),l.jsx(t.default,{href:"/blog-post",className:`px-3 py-2 rounded-lg ${"/blog-post"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"ブログ記事ジェネレーター"}),l.jsx(t.default,{href:"/workflow",className:`px-3 py-2 rounded-lg ${"/workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"ワークフローブログ"}),l.jsx(t.default,{href:"/create-workflow",className:`px-3 py-2 rounded-lg ${"/create-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"3ステップブログ記事"}),l.jsx(t.default,{href:"/sequential-workflow",className:`px-3 py-2 rounded-lg ${"/sequential-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"シーケンシャルワークフロー"}),l.jsx(t.default,{href:"/parallel-workflow",className:`px-3 py-2 rounded-lg ${"/parallel-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"並列ワークフロー"}),l.jsx(t.default,{href:"/branching-workflow",className:`px-3 py-2 rounded-lg ${"/branching-workflow"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"分岐パスワークフロー"}),l.jsx(t.default,{href:"/bird-checker",className:`px-3 py-2 rounded-lg ${"/bird-checker"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"鳥チェッカー"}),l.jsx(t.default,{href:"/real-estate",className:`px-3 py-2 rounded-lg ${"/real-estate"===e?"bg-blue-800":"hover:bg-blue-700"}`,children:"物件検索エージェント"})]})]})})}},36471:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});let l=(0,s(13571).createProxy)(String.raw`/home/ubuntu/repos/mastra.example/frontend-ui/app/create-workflow/page.tsx#default`)},67496:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a,metadata:()=>t});var l=s(75784);s(50314);let t={title:"Mastra Examples",description:"Mastraを使用した様々な例を紹介するアプリケーション"};function a({children:e}){return l.jsx("html",{lang:"ja",children:l.jsx("body",{className:"bg-gray-50",children:e})})}},50314:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),l=r.X(0,[651,200,361],()=>s(26377));module.exports=l})();