exports.id=622,exports.ids=[622],exports.modules={24449:e=>{function t(e){return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=24449,e.exports=t},37900:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=37900,e.exports=t},6427:(e,t,s)=>{var i={"./client/README.md":37347,"./client/lib-cjs/hrana":37037,"./client/lib-cjs/hrana.js":37037,"./client/lib-cjs/http":21223,"./client/lib-cjs/http.js":21223,"./client/lib-cjs/node":86850,"./client/lib-cjs/node.js":86850,"./client/lib-cjs/package":80043,"./client/lib-cjs/package.json":80043,"./client/lib-cjs/sql_cache":61958,"./client/lib-cjs/sql_cache.js":61958,"./client/lib-cjs/sqlite3":96290,"./client/lib-cjs/sqlite3.js":96290,"./client/lib-cjs/web":8572,"./client/lib-cjs/web.js":8572,"./client/lib-cjs/ws":74449,"./client/lib-cjs/ws.js":74449,"./client/lib-esm/hrana":36694,"./client/lib-esm/hrana.d":11281,"./client/lib-esm/hrana.d.ts":11281,"./client/lib-esm/hrana.js":42780,"./client/lib-esm/http":758,"./client/lib-esm/http.d":67861,"./client/lib-esm/http.d.ts":67861,"./client/lib-esm/http.js":97205,"./client/lib-esm/node":40987,"./client/lib-esm/node.d":62983,"./client/lib-esm/node.d.ts":62983,"./client/lib-esm/node.js":47147,"./client/lib-esm/sql_cache":72533,"./client/lib-esm/sql_cache.d":46801,"./client/lib-esm/sql_cache.d.ts":46801,"./client/lib-esm/sql_cache.js":73628,"./client/lib-esm/sqlite3":92702,"./client/lib-esm/sqlite3.d":44469,"./client/lib-esm/sqlite3.d.ts":44469,"./client/lib-esm/sqlite3.js":28405,"./client/lib-esm/web":70637,"./client/lib-esm/web.d":12190,"./client/lib-esm/web.d.ts":12190,"./client/lib-esm/web.js":49747,"./client/lib-esm/ws":34984,"./client/lib-esm/ws.d":76201,"./client/lib-esm/ws.d.ts":76201,"./client/lib-esm/ws.js":77143,"./client/package":67149,"./client/package.json":67149,"./core/lib-cjs/api":42147,"./core/lib-cjs/api.js":42147,"./core/lib-cjs/config":43682,"./core/lib-cjs/config.js":43682,"./core/lib-cjs/package":79553,"./core/lib-cjs/package.json":79553,"./core/lib-cjs/uri":73746,"./core/lib-cjs/uri.js":73746,"./core/lib-cjs/util":77806,"./core/lib-cjs/util.js":77806,"./core/lib-esm/api":12273,"./core/lib-esm/api.d":80439,"./core/lib-esm/api.d.ts":80439,"./core/lib-esm/api.js":12273,"./core/lib-esm/config":82337,"./core/lib-esm/config.d":29249,"./core/lib-esm/config.d.ts":29249,"./core/lib-esm/config.js":82337,"./core/lib-esm/uri":43271,"./core/lib-esm/uri.d":15238,"./core/lib-esm/uri.d.ts":15238,"./core/lib-esm/uri.js":43271,"./core/lib-esm/util":74539,"./core/lib-esm/util.d":30675,"./core/lib-esm/util.d.ts":30675,"./core/lib-esm/util.js":74539,"./core/package":42926,"./core/package.json":42926,"./hrana-client/LICENSE":74480,"./hrana-client/README.md":76138,"./hrana-client/lib-cjs":45060,"./hrana-client/lib-cjs/":45060,"./hrana-client/lib-cjs/batch":92101,"./hrana-client/lib-cjs/batch.js":92101,"./hrana-client/lib-cjs/byte_queue":3665,"./hrana-client/lib-cjs/byte_queue.js":3665,"./hrana-client/lib-cjs/client":15022,"./hrana-client/lib-cjs/client.js":15022,"./hrana-client/lib-cjs/cursor":36328,"./hrana-client/lib-cjs/cursor.js":36328,"./hrana-client/lib-cjs/describe":80958,"./hrana-client/lib-cjs/describe.js":80958,"./hrana-client/lib-cjs/encoding":44760,"./hrana-client/lib-cjs/encoding/":44760,"./hrana-client/lib-cjs/encoding/index":44760,"./hrana-client/lib-cjs/encoding/index.js":44760,"./hrana-client/lib-cjs/encoding/json/decode":74963,"./hrana-client/lib-cjs/encoding/json/decode.js":74963,"./hrana-client/lib-cjs/encoding/json/encode":26739,"./hrana-client/lib-cjs/encoding/json/encode.js":26739,"./hrana-client/lib-cjs/encoding/protobuf/decode":35346,"./hrana-client/lib-cjs/encoding/protobuf/decode.js":35346,"./hrana-client/lib-cjs/encoding/protobuf/encode":14972,"./hrana-client/lib-cjs/encoding/protobuf/encode.js":14972,"./hrana-client/lib-cjs/encoding/protobuf/util":60887,"./hrana-client/lib-cjs/encoding/protobuf/util.js":60887,"./hrana-client/lib-cjs/errors":43615,"./hrana-client/lib-cjs/errors.js":43615,"./hrana-client/lib-cjs/http/client":44351,"./hrana-client/lib-cjs/http/client.js":44351,"./hrana-client/lib-cjs/http/cursor":70588,"./hrana-client/lib-cjs/http/cursor.js":70588,"./hrana-client/lib-cjs/http/json_decode":4924,"./hrana-client/lib-cjs/http/json_decode.js":4924,"./hrana-client/lib-cjs/http/json_encode":62948,"./hrana-client/lib-cjs/http/json_encode.js":62948,"./hrana-client/lib-cjs/http/proto":15681,"./hrana-client/lib-cjs/http/proto.js":15681,"./hrana-client/lib-cjs/http/protobuf_decode":42490,"./hrana-client/lib-cjs/http/protobuf_decode.js":42490,"./hrana-client/lib-cjs/http/protobuf_encode":81667,"./hrana-client/lib-cjs/http/protobuf_encode.js":81667,"./hrana-client/lib-cjs/http/stream":32444,"./hrana-client/lib-cjs/http/stream.js":32444,"./hrana-client/lib-cjs/id_alloc":62476,"./hrana-client/lib-cjs/id_alloc.js":62476,"./hrana-client/lib-cjs/index":45060,"./hrana-client/lib-cjs/index.js":45060,"./hrana-client/lib-cjs/libsql_url":21921,"./hrana-client/lib-cjs/libsql_url.js":21921,"./hrana-client/lib-cjs/package":25357,"./hrana-client/lib-cjs/package.json":25357,"./hrana-client/lib-cjs/queue":85054,"./hrana-client/lib-cjs/queue.js":85054,"./hrana-client/lib-cjs/queue_microtask":61097,"./hrana-client/lib-cjs/queue_microtask.js":61097,"./hrana-client/lib-cjs/result":45863,"./hrana-client/lib-cjs/result.js":45863,"./hrana-client/lib-cjs/shared/json_decode":76950,"./hrana-client/lib-cjs/shared/json_decode.js":76950,"./hrana-client/lib-cjs/shared/json_encode":74982,"./hrana-client/lib-cjs/shared/json_encode.js":74982,"./hrana-client/lib-cjs/shared/proto":97428,"./hrana-client/lib-cjs/shared/proto.js":97428,"./hrana-client/lib-cjs/shared/protobuf_decode":77682,"./hrana-client/lib-cjs/shared/protobuf_decode.js":77682,"./hrana-client/lib-cjs/shared/protobuf_encode":85295,"./hrana-client/lib-cjs/shared/protobuf_encode.js":85295,"./hrana-client/lib-cjs/sql":95083,"./hrana-client/lib-cjs/sql.js":95083,"./hrana-client/lib-cjs/stmt":87155,"./hrana-client/lib-cjs/stmt.js":87155,"./hrana-client/lib-cjs/stream":53044,"./hrana-client/lib-cjs/stream.js":53044,"./hrana-client/lib-cjs/util":54766,"./hrana-client/lib-cjs/util.js":54766,"./hrana-client/lib-cjs/value":8066,"./hrana-client/lib-cjs/value.js":8066,"./hrana-client/lib-cjs/ws/client":99324,"./hrana-client/lib-cjs/ws/client.js":99324,"./hrana-client/lib-cjs/ws/cursor":99281,"./hrana-client/lib-cjs/ws/cursor.js":99281,"./hrana-client/lib-cjs/ws/json_decode":23841,"./hrana-client/lib-cjs/ws/json_decode.js":23841,"./hrana-client/lib-cjs/ws/json_encode":74150,"./hrana-client/lib-cjs/ws/json_encode.js":74150,"./hrana-client/lib-cjs/ws/proto":69342,"./hrana-client/lib-cjs/ws/proto.js":69342,"./hrana-client/lib-cjs/ws/protobuf_decode":10789,"./hrana-client/lib-cjs/ws/protobuf_decode.js":10789,"./hrana-client/lib-cjs/ws/protobuf_encode":96081,"./hrana-client/lib-cjs/ws/protobuf_encode.js":96081,"./hrana-client/lib-cjs/ws/stream":62167,"./hrana-client/lib-cjs/ws/stream.js":62167,"./hrana-client/lib-esm":12551,"./hrana-client/lib-esm/":12551,"./hrana-client/lib-esm/batch":93714,"./hrana-client/lib-esm/batch.d":14499,"./hrana-client/lib-esm/batch.d.ts":14499,"./hrana-client/lib-esm/batch.js":93714,"./hrana-client/lib-esm/byte_queue":10308,"./hrana-client/lib-esm/byte_queue.d":37369,"./hrana-client/lib-esm/byte_queue.d.ts":37369,"./hrana-client/lib-esm/byte_queue.js":10308,"./hrana-client/lib-esm/client":22118,"./hrana-client/lib-esm/client.d":66374,"./hrana-client/lib-esm/client.d.ts":66374,"./hrana-client/lib-esm/client.js":22118,"./hrana-client/lib-esm/cursor":10100,"./hrana-client/lib-esm/cursor.d":16479,"./hrana-client/lib-esm/cursor.d.ts":16479,"./hrana-client/lib-esm/cursor.js":10100,"./hrana-client/lib-esm/describe":81225,"./hrana-client/lib-esm/describe.d":99287,"./hrana-client/lib-esm/describe.d.ts":99287,"./hrana-client/lib-esm/describe.js":81225,"./hrana-client/lib-esm/encoding":11517,"./hrana-client/lib-esm/encoding/":11517,"./hrana-client/lib-esm/encoding/index":11517,"./hrana-client/lib-esm/encoding/index.d":75699,"./hrana-client/lib-esm/encoding/index.d.ts":75699,"./hrana-client/lib-esm/encoding/index.js":11517,"./hrana-client/lib-esm/encoding/json/decode":7966,"./hrana-client/lib-esm/encoding/json/decode.d":72762,"./hrana-client/lib-esm/encoding/json/decode.d.ts":72762,"./hrana-client/lib-esm/encoding/json/decode.js":7966,"./hrana-client/lib-esm/encoding/json/encode":77705,"./hrana-client/lib-esm/encoding/json/encode.d":64293,"./hrana-client/lib-esm/encoding/json/encode.d.ts":64293,"./hrana-client/lib-esm/encoding/json/encode.js":77705,"./hrana-client/lib-esm/encoding/protobuf/decode":94062,"./hrana-client/lib-esm/encoding/protobuf/decode.d":416,"./hrana-client/lib-esm/encoding/protobuf/decode.d.ts":416,"./hrana-client/lib-esm/encoding/protobuf/decode.js":94062,"./hrana-client/lib-esm/encoding/protobuf/encode":93874,"./hrana-client/lib-esm/encoding/protobuf/encode.d":13933,"./hrana-client/lib-esm/encoding/protobuf/encode.d.ts":13933,"./hrana-client/lib-esm/encoding/protobuf/encode.js":93874,"./hrana-client/lib-esm/encoding/protobuf/util":42007,"./hrana-client/lib-esm/encoding/protobuf/util.d":15593,"./hrana-client/lib-esm/encoding/protobuf/util.d.ts":15593,"./hrana-client/lib-esm/encoding/protobuf/util.js":42007,"./hrana-client/lib-esm/errors":61629,"./hrana-client/lib-esm/errors.d":1496,"./hrana-client/lib-esm/errors.d.ts":1496,"./hrana-client/lib-esm/errors.js":61629,"./hrana-client/lib-esm/http/client":74118,"./hrana-client/lib-esm/http/client.d":29178,"./hrana-client/lib-esm/http/client.d.ts":29178,"./hrana-client/lib-esm/http/client.js":74118,"./hrana-client/lib-esm/http/cursor":33100,"./hrana-client/lib-esm/http/cursor.d":50166,"./hrana-client/lib-esm/http/cursor.d.ts":50166,"./hrana-client/lib-esm/http/cursor.js":33100,"./hrana-client/lib-esm/http/json_decode":11338,"./hrana-client/lib-esm/http/json_decode.d":60012,"./hrana-client/lib-esm/http/json_decode.d.ts":60012,"./hrana-client/lib-esm/http/json_decode.js":11338,"./hrana-client/lib-esm/http/json_encode":98498,"./hrana-client/lib-esm/http/json_encode.d":31207,"./hrana-client/lib-esm/http/json_encode.d.ts":31207,"./hrana-client/lib-esm/http/json_encode.js":98498,"./hrana-client/lib-esm/http/proto":94392,"./hrana-client/lib-esm/http/proto.d":50885,"./hrana-client/lib-esm/http/proto.d.ts":50885,"./hrana-client/lib-esm/http/proto.js":94392,"./hrana-client/lib-esm/http/protobuf_decode":67043,"./hrana-client/lib-esm/http/protobuf_decode.d":91365,"./hrana-client/lib-esm/http/protobuf_decode.d.ts":91365,"./hrana-client/lib-esm/http/protobuf_decode.js":67043,"./hrana-client/lib-esm/http/protobuf_encode":65554,"./hrana-client/lib-esm/http/protobuf_encode.d":52198,"./hrana-client/lib-esm/http/protobuf_encode.d.ts":52198,"./hrana-client/lib-esm/http/protobuf_encode.js":65554,"./hrana-client/lib-esm/http/stream":45974,"./hrana-client/lib-esm/http/stream.d":41793,"./hrana-client/lib-esm/http/stream.d.ts":41793,"./hrana-client/lib-esm/http/stream.js":45974,"./hrana-client/lib-esm/id_alloc":5147,"./hrana-client/lib-esm/id_alloc.d":36208,"./hrana-client/lib-esm/id_alloc.d.ts":36208,"./hrana-client/lib-esm/id_alloc.js":5147,"./hrana-client/lib-esm/index":12551,"./hrana-client/lib-esm/index.d":78908,"./hrana-client/lib-esm/index.d.ts":78908,"./hrana-client/lib-esm/index.js":12551,"./hrana-client/lib-esm/libsql_url":4810,"./hrana-client/lib-esm/libsql_url.d":42044,"./hrana-client/lib-esm/libsql_url.d.ts":42044,"./hrana-client/lib-esm/libsql_url.js":4810,"./hrana-client/lib-esm/queue":6813,"./hrana-client/lib-esm/queue.d":71298,"./hrana-client/lib-esm/queue.d.ts":71298,"./hrana-client/lib-esm/queue.js":6813,"./hrana-client/lib-esm/queue_microtask":68194,"./hrana-client/lib-esm/queue_microtask.d":35536,"./hrana-client/lib-esm/queue_microtask.d.ts":35536,"./hrana-client/lib-esm/queue_microtask.js":68194,"./hrana-client/lib-esm/result":42945,"./hrana-client/lib-esm/result.d":92430,"./hrana-client/lib-esm/result.d.ts":92430,"./hrana-client/lib-esm/result.js":42945,"./hrana-client/lib-esm/shared/json_decode":79488,"./hrana-client/lib-esm/shared/json_decode.d":50888,"./hrana-client/lib-esm/shared/json_decode.d.ts":50888,"./hrana-client/lib-esm/shared/json_decode.js":79488,"./hrana-client/lib-esm/shared/json_encode":97124,"./hrana-client/lib-esm/shared/json_encode.d":24410,"./hrana-client/lib-esm/shared/json_encode.d.ts":24410,"./hrana-client/lib-esm/shared/json_encode.js":97124,"./hrana-client/lib-esm/shared/proto":40186,"./hrana-client/lib-esm/shared/proto.d":4113,"./hrana-client/lib-esm/shared/proto.d.ts":4113,"./hrana-client/lib-esm/shared/proto.js":40186,"./hrana-client/lib-esm/shared/protobuf_decode":81039,"./hrana-client/lib-esm/shared/protobuf_decode.d":51588,"./hrana-client/lib-esm/shared/protobuf_decode.d.ts":51588,"./hrana-client/lib-esm/shared/protobuf_decode.js":81039,"./hrana-client/lib-esm/shared/protobuf_encode":43153,"./hrana-client/lib-esm/shared/protobuf_encode.d":15788,"./hrana-client/lib-esm/shared/protobuf_encode.d.ts":15788,"./hrana-client/lib-esm/shared/protobuf_encode.js":43153,"./hrana-client/lib-esm/sql":19530,"./hrana-client/lib-esm/sql.d":8021,"./hrana-client/lib-esm/sql.d.ts":8021,"./hrana-client/lib-esm/sql.js":19530,"./hrana-client/lib-esm/stmt":32552,"./hrana-client/lib-esm/stmt.d":16607,"./hrana-client/lib-esm/stmt.d.ts":16607,"./hrana-client/lib-esm/stmt.js":32552,"./hrana-client/lib-esm/stream":9712,"./hrana-client/lib-esm/stream.d":77190,"./hrana-client/lib-esm/stream.d.ts":77190,"./hrana-client/lib-esm/stream.js":9712,"./hrana-client/lib-esm/util":93953,"./hrana-client/lib-esm/util.d":35450,"./hrana-client/lib-esm/util.d.ts":35450,"./hrana-client/lib-esm/util.js":93953,"./hrana-client/lib-esm/value":57769,"./hrana-client/lib-esm/value.d":54976,"./hrana-client/lib-esm/value.d.ts":54976,"./hrana-client/lib-esm/value.js":57769,"./hrana-client/lib-esm/ws/client":85151,"./hrana-client/lib-esm/ws/client.d":34868,"./hrana-client/lib-esm/ws/client.d.ts":34868,"./hrana-client/lib-esm/ws/client.js":85151,"./hrana-client/lib-esm/ws/cursor":39479,"./hrana-client/lib-esm/ws/cursor.d":71520,"./hrana-client/lib-esm/ws/cursor.d.ts":71520,"./hrana-client/lib-esm/ws/cursor.js":39479,"./hrana-client/lib-esm/ws/json_decode":31955,"./hrana-client/lib-esm/ws/json_decode.d":49796,"./hrana-client/lib-esm/ws/json_decode.d.ts":49796,"./hrana-client/lib-esm/ws/json_decode.js":31955,"./hrana-client/lib-esm/ws/json_encode":29649,"./hrana-client/lib-esm/ws/json_encode.d":25753,"./hrana-client/lib-esm/ws/json_encode.d.ts":25753,"./hrana-client/lib-esm/ws/json_encode.js":29649,"./hrana-client/lib-esm/ws/proto":37137,"./hrana-client/lib-esm/ws/proto.d":67101,"./hrana-client/lib-esm/ws/proto.d.ts":67101,"./hrana-client/lib-esm/ws/proto.js":37137,"./hrana-client/lib-esm/ws/protobuf_decode":73853,"./hrana-client/lib-esm/ws/protobuf_decode.d":99254,"./hrana-client/lib-esm/ws/protobuf_decode.d.ts":99254,"./hrana-client/lib-esm/ws/protobuf_decode.js":73853,"./hrana-client/lib-esm/ws/protobuf_encode":52561,"./hrana-client/lib-esm/ws/protobuf_encode.d":90146,"./hrana-client/lib-esm/ws/protobuf_encode.d.ts":90146,"./hrana-client/lib-esm/ws/protobuf_encode.js":52561,"./hrana-client/lib-esm/ws/stream":43340,"./hrana-client/lib-esm/ws/stream.d":70495,"./hrana-client/lib-esm/ws/stream.d.ts":70495,"./hrana-client/lib-esm/ws/stream.js":43340,"./hrana-client/package":20069,"./hrana-client/package.json":20069,"./isomorphic-fetch/README.md":41126,"./isomorphic-fetch/index.d":86664,"./isomorphic-fetch/index.d.ts":86664,"./isomorphic-fetch/node":14937,"./isomorphic-fetch/node.cjs":14219,"./isomorphic-fetch/node.js":14937,"./isomorphic-fetch/package":44265,"./isomorphic-fetch/package.json":44265,"./isomorphic-fetch/web":43254,"./isomorphic-fetch/web.cjs":87411,"./isomorphic-fetch/web.js":43254,"./isomorphic-ws/README.md":99071,"./isomorphic-ws/index.d":45713,"./isomorphic-ws/index.d.ts":45713,"./isomorphic-ws/node":3923,"./isomorphic-ws/node.cjs":8650,"./isomorphic-ws/node.mjs":3923,"./isomorphic-ws/package":6040,"./isomorphic-ws/package.json":6040,"./isomorphic-ws/web":61632,"./isomorphic-ws/web.cjs":98613,"./isomorphic-ws/web.mjs":61632,"./linux-x64-gnu/README.md":56373,"./linux-x64-gnu/index.node":41103,"./linux-x64-gnu/package":54387,"./linux-x64-gnu/package.json":54387,"./linux-x64-musl/README.md":87736,"./linux-x64-musl/index.node":4608,"./linux-x64-musl/package":80409,"./linux-x64-musl/package.json":80409};function n(e){return s(l(e))}function l(e){if(!s.o(i,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=l,e.exports=n,n.id=6427},76118:()=>{},34745:()=>{},35340:(e,t,s)=>{"use strict";s.d(t,{d:()=>o});var i,n,l=s(14735),r=s(50134),c=s(81046),a=s(15412);i=[(0,r.B$)({prefix:"mastra",excludeMethods:["getLogger","getTelemetry"]})];var o=class{vectors;agents;logger;workflows;telemetry;tts;deployer;storage;memory;constructor(e){let t;if(e?.logger===!1)t=c.AS;else if(e?.logger)t=e.logger;else{let e=c.in.WARN;t=(0,c.hu)({name:"Mastra",level:e})}this.logger=t;let s=e?.storage;if(s||(s=new l.L({config:{url:process.env.MASTRA_DEFAULT_STORAGE_URL||":memory:"}})),s instanceof l.L&&e?.telemetry?.export?.type!=="custom"){let t={...e?.telemetry||{},export:{type:"custom",exporter:new r.Mm({logger:this.getLogger(),storage:s})}};this.telemetry=r.M0.init(t)}else e?.telemetry&&(this.telemetry=r.M0.init(e?.telemetry));if(e?.deployer&&(this.deployer=e.deployer,this.telemetry&&(this.deployer=this.telemetry.traceClass(e.deployer,{excludeMethods:["__setTelemetry","__getTelemetry"]}),this.deployer.__setTelemetry(this.telemetry))),this.telemetry?(this.storage=this.telemetry.traceClass(s,{excludeMethods:["__setTelemetry","__getTelemetry"]}),this.storage.__setTelemetry(this.telemetry)):this.storage=s,e?.vectors){let t={};Object.entries(e.vectors).forEach(([e,s])=>{this.telemetry?(t[e]=this.telemetry.traceClass(s,{excludeMethods:["__setTelemetry","__getTelemetry"]}),t[e].__setTelemetry(this.telemetry)):t[e]=s}),this.vectors=t}e?.vectors&&(this.vectors=e.vectors),e?.memory&&(this.memory=e.memory,this.telemetry&&(this.memory=this.telemetry.traceClass(e.memory,{excludeMethods:["__setTelemetry","__getTelemetry"]}),this.memory.__setTelemetry(this.telemetry))),e&&"memory"in e&&this.logger.warn(`
  Memory should be added to Agents, not to Mastra.

Instead of:
  new Mastra({ memory: new Memory() })

do:
  new Agent({ memory: new Memory() })

This is a warning for now, but will throw an error in the future
`),e?.tts&&(this.tts=e.tts,Object.entries(this.tts).forEach(([e,t])=>{this.tts?.[e]&&this.telemetry&&(this.tts[e]=this.telemetry.traceClass(t,{excludeMethods:["__setTelemetry","__getTelemetry"]}),this.tts[e].__setTelemetry(this.telemetry))}));let i={};e?.agents&&Object.entries(e.agents).forEach(([e,t])=>{if(i[e])throw Error(`Agent with name ID:${e} already exists`);t.__registerPrimitives({logger:this.getLogger(),telemetry:this.telemetry,storage:this.storage,memory:this.memory,agents:i,tts:this.tts,vectors:this.vectors}),i[e]=t}),this.agents=i,this.workflows={},e?.workflows&&Object.entries(e.workflows).forEach(([e,t])=>{t.__registerPrimitives({logger:this.getLogger(),telemetry:this.telemetry,storage:this.storage,memory:this.memory,agents:this.agents,tts:this.tts,vectors:this.vectors}),this.workflows[e]=t}),this.setLogger({logger:t})}getAgent(e){if(!this.agents?.[e])throw Error(`Agent with name ${String(e)} not found`);return this.agents[e]}getAgents(){return this.agents}getVector(e){let t=this.vectors?.[e];if(!t)throw Error(`Vector with name ${String(e)} not found`);return t}getVectors(){return this.vectors}getDeployer(){return this.deployer}getWorkflow(e,{serialized:t}={}){let s=this.workflows?.[e];if(!s)throw Error(`Workflow with ID ${String(e)} not found`);return t?{name:s.name}:s}getWorkflows(e={}){return e.serialized?Object.entries(this.workflows).reduce((e,[t,s])=>({...e,[t]:{name:s.name}}),{}):this.workflows}setStorage(e){this.storage=e}setLogger({logger:e}){this.logger=e,this.agents&&Object.keys(this.agents).forEach(e=>{this.agents?.[e]?.__setLogger(this.logger)}),this.workflows&&Object.keys(this.workflows).forEach(e=>{this.workflows?.[e]?.__setLogger(this.logger)}),this.memory&&this.memory.__setLogger(this.logger),this.deployer&&this.deployer.__setLogger(this.logger),this.tts&&Object.keys(this.tts).forEach(e=>{this.tts?.[e]?.__setLogger(this.logger)}),this.storage&&this.storage.__setLogger(this.logger),this.vectors&&Object.keys(this.vectors).forEach(e=>{this.vectors?.[e]?.__setLogger(this.logger)})}setTelemetry(e){if(this.telemetry=r.M0.init(e),this.agents&&Object.keys(this.agents).forEach(e=>{this.telemetry&&this.agents?.[e]?.__setTelemetry(this.telemetry)}),this.workflows&&Object.keys(this.workflows).forEach(e=>{this.telemetry&&this.workflows?.[e]?.__setTelemetry(this.telemetry)}),this.memory&&(this.memory=this.telemetry.traceClass(this.memory,{excludeMethods:["__setTelemetry","__getTelemetry"]}),this.memory.__setTelemetry(this.telemetry)),this.deployer&&(this.deployer=this.telemetry.traceClass(this.deployer,{excludeMethods:["__setTelemetry","__getTelemetry"]}),this.deployer.__setTelemetry(this.telemetry)),this.tts){let e={};Object.entries(this.tts).forEach(([t,s])=>{this.telemetry&&(e[t]=this.telemetry.traceClass(s,{excludeMethods:["__setTelemetry","__getTelemetry"]}),e[t].__setTelemetry(this.telemetry))}),this.tts=e}if(this.storage&&(this.storage=this.telemetry.traceClass(this.storage,{excludeMethods:["__setTelemetry","__getTelemetry"]}),this.storage.__setTelemetry(this.telemetry)),this.vectors){let e={};Object.entries(this.vectors).forEach(([t,s])=>{this.telemetry&&(e[t]=this.telemetry.traceClass(s,{excludeMethods:["__setTelemetry","__getTelemetry"]}),e[t].__setTelemetry(this.telemetry))}),this.vectors=e}}getLogger(){return this.logger}getTelemetry(){return this.telemetry}async getLogsByRunId({runId:e,transportId:t}){if(!t)throw Error("Transport ID is required");return await this.logger.getLogsByRunId({runId:e,transportId:t})}async getLogs(e){if(!e)throw Error("Transport ID is required");return await this.logger.getLogs(e)}};n=(0,a.xl)(null),o=(0,a.pL)(n,0,"Mastra",i,o),(0,a.Co)(n,1,o)}};